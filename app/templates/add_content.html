{% extends 'base.html' %}

{% block title %}Add {{ content_type|capitalize }}{% endblock %}

{% block content %}
<h1>Add {{ content_type|capitalize }}</h1>
<form method="POST" enctype="multipart/form-data">
    {{ form.hidden_tag() }}
    <div class="mb-3">
        {{ form.title.label(class="form-label") }}
        {{ form.title(class="form-control") }}
    </div>
    <div class="mb-3">
        {{ form.description.label(class="form-label") }}
        {{ form.description(class="form-control") }}
    </div>
    <div class="mb-3">
        {{ form.genre.label(class="form-label") }}
        {{ form.genre(class="form-control") }}
    </div>
    <div class="mb-3">
        {{ form.year.label(class="form-label") }}
        {{ form.year(class="form-control") }}
    </div>
    <div class="mb-3" id="season_field" style="display: none;">
        <label for="season_number" class="form-label">Season Number</label>
        <input type="number" name="season_number" id="season_number" class="form-control">
    </div>
    <div class="mb-3">
        {{ form.thumbnail.label(class="form-label") }}
        {{ form.thumbnail(class="form-control") }}
    </div>
    <div class="mb-3">
        {{ form.video.label(class="form-label") }}
        {{ form.video(class="form-control") }}
    </div>
    <button type="submit" class="btn btn-primary">Add {{ content_type|capitalize }}</button>
</form>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const contentType = "{{ content_type }}";
        const seasonField = document.getElementById('season_field');
        if (contentType === 'show') {
            seasonField.style.display = 'block';
        }
    });
</script>
{% endblock %}
